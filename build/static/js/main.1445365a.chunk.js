(this["webpackJsonpe-comerce-app"]=this["webpackJsonpe-comerce-app"]||[]).push([[0],{27:function(t,e,n){},34:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),s=n(19),o=n.n(s),c=(n(27),n(8)),r=n(10),u=n(11),p=n(13),l=n(12),j=n(1),h=function(t){Object(p.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,t)).onInput=function(t){a.setState(Object(c.a)({},t.target.name,t.target.value))},a.onLoginClick=function(t){t.preventDefault();var e=a.state,n=e.email,i=e.password;fetch("/api/sessions",{method:"POST",body:JSON.stringify({email:n,password:i}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(t){204===t.status&&(window.location="/profile")}))},a.onSignupClick=function(t){t.preventDefault();var e=a.state,n=e.email,i=e.password;fetch("/api/users",{method:"POST",body:JSON.stringify({email:n,password:i}),headers:{"Content-type":"application/json; charset=UTF-8"}})},a.state={email:"",password:""},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){fetch("/api/users/me").then((function(t){200===t.status&&(window.location="/profile")}))}},{key:"render",value:function(){return Object(j.jsx)("div",{className:"LoginPage",children:Object(j.jsxs)("form",{children:[Object(j.jsx)("input",{placeholder:"email",name:"email",required:!0,type:"email",onInput:this.onInput,value:this.state.email}),Object(j.jsx)("input",{placeholder:"password",name:"password",required:!0,type:"password",onInput:this.onInput,value:this.state.password}),Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{type:"submit",onClick:this.onLoginClick,value:"Login"}),Object(j.jsx)("input",{type:"submit",onClick:this.onSignupClick,value:"Sign up"})]})]})})}}]),n}(i.a.Component),d=n(20),m=function(t){Object(p.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,t)).onInput=function(t){a.setState(Object(c.a)({},t.target.name,t.target.value))},a.onUpdate=function(){var t=a.state,e=t.firstName,n=t.lastName;fetch("/api/users/me",{method:"PUT",body:JSON.stringify({firstName:e,lastName:n}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(t){204===t.status&&(window.location="/profile")}))},a.onLogout=function(){fetch("/api/sessions/me",{method:"DELETE"}).then((function(t){204===t.status&&(window.location="/")}))},a.state={},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this;fetch("/api/users/me").then((function(t){return 200!==t.status&&(window.location="/"),t.json()})).then((function(e){t.setState(Object(d.a)({},e))}))}},{key:"render",value:function(){return Object(j.jsxs)("div",{className:"Profile",children:[Object(j.jsxs)("div",{children:["Email: ",this.state.email]}),Object(j.jsxs)("div",{children:["First Name: ",Object(j.jsx)("input",{name:"firstName",onInput:this.onInput,value:this.state.firstName||""})]}),Object(j.jsxs)("div",{children:["Last Name: ",Object(j.jsx)("input",{name:"lastName",onInput:this.onInput,value:this.state.lastName||""})]}),Object(j.jsx)("div",{children:Object(j.jsx)("input",{type:"button",onClick:this.onUpdate,value:"Update"})}),Object(j.jsx)("div",{children:Object(j.jsx)("input",{type:"button",onClick:this.onLogout,value:"Logout"})})]})}}]),n}(i.a.Component),f=n(21),b=n(2);function O(){return Object(j.jsx)(f.a,{children:Object(j.jsxs)(b.c,{children:[Object(j.jsx)(b.a,{exact:!0,path:"/",component:h}),Object(j.jsx)(b.a,{exact:!0,path:"/profile",component:m})]})})}o.a.render(Object(j.jsx)(O,{}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.1445365a.chunk.js.map