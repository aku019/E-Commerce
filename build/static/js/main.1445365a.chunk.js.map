{"version":3,"sources":["LoginPage.js","Profile.js","index.js"],"names":["LoginPage","props","onInput","event","setState","target","name","value","onLoginClick","e","preventDefault","state","email","password","fetch","method","body","JSON","stringify","headers","then","res","status","window","location","onSignupClick","user","className","placeholder","required","type","this","onClick","React","Component","Profile","onUpdate","firstName","lastName","onLogout","json","App","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1445365a.chunk.js","sourcesContent":["import React from 'react';\n\nclass LoginPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: '',\n      password: ''\n    };\n  }\n\n  componentDidMount() {\n    fetch('/api/users/me').then(user => {\n      if (user.status === 200) {\n        window.location = '/profile';\n      }\n    });\n  }\n\n  onInput = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  }\n\n  onLoginClick = e => {\n    e.preventDefault();\n    const { email, password } = this.state;\n    fetch('/api/sessions', {\n      method: 'POST',\n      body: JSON.stringify({ email, password }),\n      headers: {\n        'Content-type': 'application/json; charset=UTF-8'\n      }\n    }).then(res => {\n      if (res.status === 204) {\n        window.location = '/profile';\n      }\n    });\n  }\n\n  onSignupClick = e => {\n    e.preventDefault();\n    const { email, password } = this.state;\n    fetch('/api/users', {\n      method: 'POST',\n      body: JSON.stringify({ email, password }),\n      headers: {\n        'Content-type': 'application/json; charset=UTF-8'\n      }\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"LoginPage\">\n        <form>\n          <input placeholder=\"email\" name=\"email\" required type=\"email\" onInput={this.onInput} value={this.state.email}></input>\n          <input placeholder=\"password\" name=\"password\" required type=\"password\" onInput={this.onInput} value={this.state.password}></input>\n          <div>\n            <input type=\"submit\" onClick={this.onLoginClick} value=\"Login\"></input>\n            <input type=\"submit\" onClick={this.onSignupClick} value=\"Sign up\"></input>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default LoginPage;\n","import React from 'react';\n\nclass Profile extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  componentDidMount() {\n      fetch('/api/users/me').then(user => {\n        if (user.status !== 200) {\n          window.location = '/';\n        }\n        return user.json();\n      })\n      .then(user => {\n          this.setState({ ...user });\n      });\n  }\n\n  onInput = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  }\n  \n  onUpdate = () => {\n    const { firstName, lastName } = this.state;\n    fetch('/api/users/me', {\n      method: 'PUT',\n      body: JSON.stringify({ firstName, lastName }),\n      headers: {\n        'Content-type': 'application/json; charset=UTF-8'\n      }\n    }).then(res => {\n      if (res.status === 204) {\n        window.location = '/profile';\n      }\n    });\n  }\n\n  onLogout = () => {\n    fetch('/api/sessions/me', {\n      method: 'DELETE'\n    }).then(res => {\n      if (res.status === 204) {\n        window.location = '/';\n      }\n    });\n  }\n\n  render() {\n    return (<div className=\"Profile\">\n        <div>Email: {this.state.email}</div>\n          <div>First Name: <input name=\"firstName\" onInput={this.onInput} value={this.state.firstName || ''}></input></div>\n          <div>Last Name: <input name=\"lastName\" onInput={this.onInput} value={this.state.lastName || ''}></input></div>\n          <div><input type=\"button\" onClick={this.onUpdate} value=\"Update\"></input></div>\n          <div><input type=\"button\" onClick={this.onLogout} value=\"Logout\"></input></div>\n      </div>);\n  }\n}\n\nexport default Profile;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport LoginPage from './LoginPage';\nimport Profile from './Profile';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\n\nfunction App() {\n  return (\n    <Router>\n        {/* A <Switch> looks through its children <Route>s and\n            renders the first one that matches the current URL. */}\n        <Switch>\n          <Route exact path=\"/\" component={LoginPage} />\n          <Route exact path=\"/profile\" component={Profile} />\n        </Switch>\n    </Router>\n  );\n}\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}